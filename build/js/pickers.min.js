"use strict";var appSection=document.getElementsByClassName("app-section")[0];function changeSystemInterface(){this.checked=!0;var e=appSection.getElementsByClassName("system-title-bar__interface"),t=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){a.value.classList.toggle("system-title-bar__interface--hidden")}}catch(e){r=!0,i=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw i}}}var systemInterfaceRadios=document.getElementsByName("system"),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=systemInterfaceRadios[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var radio=_step2.value;radio.addEventListener("change",changeSystemInterface)}}catch(e){_didIteratorError2=!0,_iteratorError2=e}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}function changeBgImage(){var e=appSection.getElementsByClassName("chat-view__start_overlay")[0],t=appSection.getElementsByClassName("chat-view-body")[0],r=document.getElementById("bg-changer").value;""!==r&&(e.style.backgroundImage="url("+r+")",t.style.backgroundImage="url("+r+")")}var BgChangingButton=document.getElementById("bg-changer-btn");BgChangingButton.addEventListener("click",changeBgImage);var pickersList={$dialogsBg:{class:"chat-list-item",type:"bg"},$dialogsNameFg:{class:"chat-list-item__author",type:"fg"},$dialogsChatIconFg:{class:"",type:"fg"},$dialogsSentIconFg:{class:"",type:"fg"},$dialogsDateFg:{class:"chat-list-item__delivery-date",type:"fg"},$dialogsTextFg:{class:"chat-list-item__last-msg",type:"fg"},$dialogsTextFgService:{class:"chat-list-item__last-msg-type",type:"fg"},$dialogsUnreadFg:{class:"chat-list-item__notification-counter",type:"fg"},$dialogsUnreadBg:{class:"chat-list-item__notification-counter--unmuted",type:"bg"},$dialogsUnreadBgMuted:{class:"chat-list-item__notification-counter--muted",type:"bg"},$dialogsBgOver:{class:"",type:"bg"},$dialogsRippleBg:{class:"",type:"bg"},$dialogsNameFgOver:{class:"",type:"fg"},$dialogsDateFgOver:{class:"",type:"fg"},$dialogsTextFgOver:{class:"",type:"fg"},$dialogsTextFgServiceOver:{class:"",type:"fg"},$dialogsSentIconFgOver:{class:"",type:"fg"},$dialogsUnreadBgOver:{class:"",type:"bg"},$dialogsUnreadBgMutedOver:{class:"",type:"bg"},$dialogsUnreadFgOver:{class:"",type:"fg"},$dialogsBgActive:{class:"",type:"bg"},$dialogsRippleBgActive:{class:"",type:"bg"},$dialogsNameFgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__author",type:"fg"},$dialogsChatIconFgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"icon",type:"fg"},$dialogsDateFgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__delivery-date",type:"fg"},$dialogsTextFgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__last-msg",type:"fg"},$dialogsUnreadFgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__notification-counter",type:"fg"},$dialogsUnreadBgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__notification-counter--unmuted",type:"bg"},$dialogsUnreadBgMutedActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__notification-counter--muted",type:"bg"},$dialogsTextFgServiceActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__last-msg-type",type:"fg"},$dialogsSentIconFgActive:{isInsideModifier:"true",modifierClass:"chat-list-item--selected",class:"chat-list-item__delivery-status",type:"fg"}};function setColor(e,t,r){if("bg"===t){var i=!0,a=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){o.value.style.backgroundColor=r}}catch(e){a=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw s}}}else if("fg"===t){var c=!0,n=!1,d=void 0;try{for(var g,m=e[Symbol.iterator]();!(c=(g=m.next()).done);c=!0){g.value.style.color=r}}catch(e){n=!0,d=e}finally{try{c||null==m.return||m.return()}finally{if(n)throw d}}}}function changeColor(){var e=this.value,t=this.id,r=pickersList[t].type;if("true"===pickersList[t].isInsideModifier){var i=document.getElementsByClassName(pickersList[t].modifierClass),a=!0,s=!1,o=void 0;try{for(var l,c=i[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){setColor(l.value.getElementsByClassName(pickersList[t].class),r,e)}}catch(e){s=!0,o=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw o}}}else setColor(document.getElementsByClassName(pickersList[t].class),r,e)}var colorPickers=document.getElementsByClassName("picker-item"),_iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=colorPickers[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var picker=_step6.value;picker.addEventListener("change",changeColor)}}catch(e){_didIteratorError6=!0,_iteratorError6=e}finally{try{_iteratorNormalCompletion6||null==_iterator6.return||_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}function rgb2hex(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}var pickers=document.getElementsByClassName("picker-item"),_iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=pickers[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var _picker=_step7.value;if(""!==pickersList[_picker.id].class){var element=document.getElementsByClassName(pickersList[_picker.id].class)[0],style=getComputedStyle(element);"bg"===pickersList[_picker.id].type?_picker.value=rgb2hex(style.backgroundColor):"fg"===pickersList[_picker.id].type&&(_picker.value=rgb2hex(style.color))}}}catch(e){_didIteratorError7=!0,_iteratorError7=e}finally{try{_iteratorNormalCompletion7||null==_iterator7.return||_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}